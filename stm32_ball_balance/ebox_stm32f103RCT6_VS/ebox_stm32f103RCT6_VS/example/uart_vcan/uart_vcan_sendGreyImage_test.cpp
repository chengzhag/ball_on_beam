#include "ebox.h"
#include "uart_vcan.h"
UartVscan uart(&uart1);
void setup()
{
	ebox_init();
	uart.begin(115200);
}
int main(void)
{
	setup();
	uint8_t x[] =
	{ 250,248,249,251,250,250,251,249,250,249,249,251,248,253,253,169,
		249,252,250,249,251,248,250,252,251,249,250,249,255,249,225,81,
		252,247,250,249,250,252,248,250,250,249,250,254,241,238,232,219,
		249,250,252,248,250,249,251,249,253,253,252,241,232,254,237,251,
		249,250,249,251,249,249,252,254,233,214,229,230,251,244,237,254,
		255,254,254,253,253,252,249,215,201,224,242,254,254,219,250,251,
		239,250,233,233,235,243,225,217,254,253,252,252,254,216,212,253,
		107,68,198,246,250,244,243,254,253,250,254,233,74,217,222,222,
		226,158,188,223,235,241,243,254,254,249,253,236,178,232,230,194,
		254,254,255,236,243,221,235,143,155,254,227,247,254,246,238,211,
		249,250,252,250,255,236,220,151,170,254,225,228,251,251,247,231,
		250,250,249,252,250,254,204,254,255,250,243,251,249,251,253,247,
		249,251,250,250,249,252,196,205,253,247,253,250,249,251,249,252,
		251,248,250,249,253,238,206,165,219,250,251,249,252,245,250,251,
		249,250,248,251,255,217,206,249,220,238,252,248,248,253,250,250,
		249,252,250,249,250,250,226,242,253,253,249,250,250,250,249,250
	};
	while (1)
	{
		uart.sendGreyImage(x, 16, 16);
		delay_ms(1000);
	}
}